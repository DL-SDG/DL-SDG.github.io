
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Visualising Simulation &#8212; DL_Software Digital Guide (DL_SDG) 2.4 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom_CY.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Analysing Results" href="simple_simulation_analysis_dpd.html" />
    <link rel="prev" title="Simulation Run" href="simple_simulation_run_dpd.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="simple_simulation_analysis_dpd.html" title="Analysing Results"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="simple_simulation_run_dpd.html" title="Simulation Run"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">DL_Software Digital Guide (DL_SDG) 2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Simulations.html" >Simulations</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="liquid_sim_dpd.html" accesskey="U">Simulating a liquid using DPD (DL_MESO)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="visualising-simulation">
<span id="simple-simulation-visualise-dpd"></span><h1>Visualising Simulation<a class="headerlink" href="#visualising-simulation" title="Permalink to this headline">¶</a></h1>
<p>The results from a DL_MESO_DPD simulation can include particle trajectories in the <strong>HISTORY</strong> file. These can be visualised by loading the data into a particle visualisation software package, e.g.</p>
<ul class="simple">
<li><a class="reference external" href="https://www.ks.uiuc.edu/Research/vmd/">VMD</a> (Visual Molecular Dynamics)</li>
<li><a class="reference external" href="https://www.ovito.org/">OVITO</a></li>
</ul>
<p>The trajectory data in the <strong>HISTORY</strong> file needs to be converted to file formats that either package can read. Utilities included with DL_MESO can be used, which can be compiled according to the instructions in the <a class="reference internal" href="../dl_meso_howto.html#dl-meso-howto"><span class="std std-ref">Ready, get set, go guide</span></a>. Alternatively, Python scripts are available to convert the <strong>HISTORY</strong> file into a variety of formats, all of which require a module to read in <strong>HISTORY</strong> files (<a class="reference download internal" download="" href="../../_downloads/18afa050fc6a3b3ec43be7d407c4143f/dlmhistoryread.py"><code class="xref download docutils literal notranslate"><span class="pre">dlmhistoryread.py</span></code></a>). These scripts also require the Python modules <code class="docutils literal notranslate"><span class="pre">docent</span></code> and <code class="docutils literal notranslate"><span class="pre">tqdm</span></code> to be installed using a command such as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">docopt</span> <span class="n">tqdm</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">TIP:</th><td class="field-body">Some Python 3 installations may use <code class="docutils literal notranslate"><span class="pre">python3</span></code> in place of <code class="docutils literal notranslate"><span class="pre">python</span></code> and <code class="docutils literal notranslate"><span class="pre">pip3</span></code> instead of <code class="docutils literal notranslate"><span class="pre">pip</span></code>.</td>
</tr>
</tbody>
</table>
<p><strong>VMD</strong>:</p>
<p>To convert the <strong>HISTORY</strong> file for VMD, either use the <strong>traject_vtf.exe</strong> utility in the same directory, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">traject_vtf</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
<p>or use the <a class="reference download internal" download="" href="../../_downloads/3419d8668f4355689c5cc482ab36a434/history_dlm_to_vtf.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_vtf.py</span></code></a> Python script along with the <a class="reference download internal" download="" href="../../_downloads/18afa050fc6a3b3ec43be7d407c4143f/dlmhistoryread.py"><code class="xref download docutils literal notranslate"><span class="pre">dlmhistoryread.py</span></code></a> module</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">history_dlm_to_vtf</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Both the utility and the script will generate a <strong>traject.vtf</strong> file in VMD’s VTF trajectory format, which contains the particle coordinates for all available trajectory frames and (if included) a list of particle pairs connected together by bonds. If any molecules are included in the original <strong>HISTORY</strong> file, these are identified as <em>residues</em> in the VTF file.</p>
<p>This file can now be opened in VMD, which should automatically detect it as the correct file type. Options are available in VMD to change the representations of particles and/or bonds, including selecting which particle species or molecules/residues are visible. A playback bar is available to ‘playback’ the simulation as an animation, which can be exported to a video file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">TIP:</th><td class="field-body">If no bond list is included in a VTF file (e.g. for a system without molecules), VMD will try to add bonds between particles based on how apart they are from each other. Since DPD particles are likely to be quite close together, VMD will report errors in its terminal window stating several particles have too many bonds, but <em>this will not stop VMD from loading and visualising the file</em> and those messages can therefore safely be ignored.</td>
</tr>
</tbody>
</table>
<p>If your simulation includes bonds that stretch across the box due to periodic boundary conditions, it is possible to make VMD move segments of molecules beyond the bounds of the box to give minimum bond lengths. Find the terminal window opened by VMD and type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pbc</span> <span class="n">join</span> <span class="n">res</span> <span class="o">-</span><span class="n">first</span> <span class="n">first</span> <span class="o">-</span><span class="n">last</span> <span class="n">last</span>
</pre></div>
</div>
<p>to join up the molecules (residues) in all available frames. An example of this for the polymer melt can be seen below.</p>
<div class="figure">
<img alt="../../_images/vmd_bond_unpbc.png" src="../../_images/vmd_bond_unpbc.png" />
</div>
<div class="figure">
<img alt="../../_images/vmd_bond_pbc.png" src="../../_images/vmd_bond_pbc.png" />
</div>
<p>VMD can also read the following other file formats, most of which do not include bond connectivity data but can be generated from DL_MESO_DPD <strong>HISTORY</strong> files using Python scripts:</p>
<ul class="simple">
<li>CHARMM DCD files (<a class="reference download internal" download="" href="../../_downloads/ba40c0149470651a8770c9cd877306f8/history_dlm_to_dcd.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_dcd.py</span></code></a>)</li>
<li>DL_MESO/DL_POLY CONFIG files (<a class="reference download internal" download="" href="../../_downloads/c9c1f70a2c15dc11345d38d8d57be707/history_dlm_to_config.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_config.py</span></code></a>) - each consisting of a single frame/configuration</li>
<li>DL_POLY HISTORY files (<a class="reference download internal" download="" href="../../_downloads/d43495a11e1577107229cc8f747d3206/history_dlm_to_history_dlp.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_history_dlp.py</span></code></a>)</li>
</ul>
<p>DCD files also require a PSF (protein structure file) to identify particle species/molecule types and provide bond connectivity information, which can be generated using the <a class="reference download internal" download="" href="../../_downloads/3ed645f13a0eb0974adb76eae8d97b0a/history_dlm_to_psf.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_psf.py</span></code></a> script and loaded into VMD with the DCD file.</p>
<p><strong>OVITO</strong>:</p>
<p>To convert the <strong>HISTORY</strong> file for OVITO, either use the <strong>traject_xml.exe</strong> utility in the same directory, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">traject_xml</span><span class="o">.</span><span class="n">exe</span>
</pre></div>
</div>
<p>or use the <a class="reference download internal" download="" href="../../_downloads/69d55a6ec321ce864c7f25e8f155268e/history_dlm_to_galamost_xml.py"><code class="xref download docutils literal notranslate"><span class="pre">history_dlm_to_galamost_xml.py</span></code></a> Python script along with the <a class="reference download internal" download="" href="../../_downloads/18afa050fc6a3b3ec43be7d407c4143f/dlmhistoryread.py"><code class="xref download docutils literal notranslate"><span class="pre">dlmhistoryread.py</span></code></a> module</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">history_dlm_to_galamost_xml</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Both the utility and the script will generate a series of files in an XML-based format for GALAMOST (a GPU-based molecular simulation code) numbered according to the trajectory frame number. Each file contains the particle coordinates, velocities for all particles (if provided in the <strong>HISTORY</strong> file) and a list of particle pairs connected together by bonds for each frame. (Note that the bond connectivity data does not change during a DL_MESO_DPD simulation.)</p>
<p>These files can be opened in OVITO by selecting either a range of them or just the first one. Options are available to change how the particles, bonds and simulation cell are displayed. A playback bar exists to ‘playback’ the simulation as an animation, which can be exported to a video file.</p>
<p>Unlike VMD, you do not need to make adjustments for bonds that stretch across the periodic box in OVITO: these are automatically cut for individual trajectory frames, as shown below for the polymer melt example.</p>
<div class="figure">
<img alt="../../_images/ovito.png" src="../../_images/ovito.png" />
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../RST_PAGES/Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Resources.html">Resources</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Simulations.html">Simulations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="parameter_examples.html">Example Simulation Models and Procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="liquid_sim.html">Simulating a liquid (DL_FIELD, DL_POLY, DL_ANALYSER)</a></li>
<li class="toctree-l2"><a class="reference internal" href="solution_sim.html">Simulating a solution (DL_FIELD, DL_POLY, DL_ANALYSER)</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="liquid_sim_dpd.html">Simulating a liquid using DPD (DL_MESO)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="inputs_prep_dpd.html">Inputs Preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_simulation_run_dpd.html">Simulation Run</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Visualising Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="simple_simulation_analysis_dpd.html">Analysing Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="vapour_liquid_sim_lbe.html">Simulating vapour-liquid coexistence using LBE (DL_MESO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STRUCTURES/Structures.html">Structures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RST_PAGES/Acknowledgements.html">Acknowledgements</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="simple_simulation_run_dpd.html"
                        title="previous chapter">Simulation Run</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="simple_simulation_analysis_dpd.html"
                        title="next chapter">Analysing Results</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="simple_simulation_analysis_dpd.html" title="Analysing Results"
             >next</a> |</li>
        <li class="right" >
          <a href="simple_simulation_run_dpd.html" title="Simulation Run"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">DL_Software Digital Guide (DL_SDG) 2.4 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="Simulations.html" >Simulations</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="liquid_sim_dpd.html" >Simulating a liquid using DPD (DL_MESO)</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2025, DL_SDG.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>