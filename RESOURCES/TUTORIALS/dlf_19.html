
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The udff file: 1. File format &#8212; DL_Software Digital Guide (DL_SDG) 2.2 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom_CY.css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The udff file: 2. Examples" href="dlf_20.html" />
    <link rel="prev" title="DL_FIELD control file" href="dlf_5.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="dlf_20.html" title="The udff file: 2. Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="dlf_5.html" title="DL_FIELD control file"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">DL_Software Digital Guide (DL_SDG) 2.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Resources.html" >Resources</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tutorials.html" >DL_Software Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="dlf_0.html" accesskey="U">DL_FIELD Tutorial</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-udff-file-1-file-format">
<span id="header-dlf-19"></span><h1>The udff file: 1. File format<a class="headerlink" href="#the-udff-file-1-file-format" title="Permalink to this headline">¶</a></h1>
<p>The <em>udff</em> file, or the <em>user-define force field</em> file, is a DL_FIELD input file where you can include new force field information that are not available in the library files.</p>
<p>A <em>udff</em> file allows you to define new FF models and parameters without tampering with the library files. You can also redefine the existing library data without doing any physical change to the library files.</p>
<img alt="../../_images/Orange_bar6.png" src="../../_images/Orange_bar6.png" />
<p><strong>The udff file structure</strong></p>
<p>You can include <em>DIRECTIVES</em> from both the DL_FIELD’s <em>sf</em> and <em>par</em> library files. The general formats are shown as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># General format of a udff file</span>

<span class="hll"><span class="n">POTENTIAL</span> <span class="n">charmm22_prot</span> 
</span>
<span class="hll"><span class="n">UNIT</span> <span class="n">eV</span>
</span>
<span class="p">[</span><span class="n">ATOM_TYPE</span><span class="p">]</span>
<span class="o">..</span>
<span class="o">..</span>
<span class="p">[</span><span class="n">END</span> <span class="n">ATOM_TYPE</span><span class="p">]</span>

<span class="p">[</span><span class="n">MOLECULE_TYPE</span><span class="p">]</span>
<span class="o">..</span>
<span class="o">..</span>
<span class="p">[</span><span class="n">END</span> <span class="n">MOLECULE_TYPE</span><span class="p">]</span>

<span class="p">[</span><span class="n">MOLECULE</span> <span class="n">some_name</span><span class="p">]</span>
<span class="o">..</span>
<span class="o">..</span>
<span class="p">[</span><span class="n">END</span> <span class="n">MOLECULE</span><span class="p">]</span>

<span class="p">[</span><span class="n">BOND</span><span class="p">]</span>
<span class="o">..</span>
<span class="o">..</span>
<span class="p">[</span><span class="n">END</span> <span class="n">BOND</span><span class="p">]</span>

<span class="o">..</span>
<span class="o">..</span>
<span class="o">..</span>

<span class="p">[</span><span class="n">VDW</span><span class="p">]</span>
<span class="o">..</span>
<span class="o">..</span>
<span class="p">[</span><span class="n">END</span> <span class="n">VDW</span><span class="p">]</span>

<span class="hll"><span class="n">END</span> <span class="n">POTENTIAL</span>
</span> 
</pre></div>
</div>
<p>You can give any name to the file provided it ends with the extension <em>.udff</em>. Most <em>DIRECTIVES</em> are optional and a <em>udff</em> file can have as few as a single <em>DIRECTIVE</em>, perhaps to modify a set of parameters; or all <em>DIRECTIVES</em>, perhaps to fully define a complete FF model. In addition, the <em>DIRECTIVES</em> can also appear in any order according to your liking.</p>
<p>However, the following <em>DIRECTIVES</em> must always include in a <em>udff</em> file. For instance, the <em>POTENTIAL</em> and <em>END POTENTIAL</em>, within which the relevant FF data are located. In this case, the data is related to the CHARMM22_prot FF scheme. The way how data is displayed must also follow that of in the library files for that FF scheme.</p>
<p>The energy <em>UNIT</em> must also be specified within the <em>POTENTIAL</em>. DL_FIELD will assume all potential parameters will be expressed in this unit. In this example, all potential parameters would be expressed in the energy unit eV. Whereas, in the library, CHARMM22_prot FF is expressed in unit kcal/mol. DL_FIELD will carry out correct unit conversions, according to the energy unit specified in the DL_FIELD <em>control</em> file.</p>
<p>Note that more than one <em>POTENTIAL</em> scheme can be specified in a <em>udff</em> file, with the corresponding FF data enclosed within the appropriate <em>POTENTIAL</em> and <em>END POTENTIAL</em> directives. DL_FIELD will only look for the relevant data located within the appropriate <em>POTENTIAL</em> scheme according to the specification in the <em>control</em> file.</p>
<img alt="../../_images/Orange_bar6.png" src="../../_images/Orange_bar6.png" />
<p><strong>Using udff file</strong></p>
<p>Once a <em>udff</em> file is constructed, DL_FIELD can read in the file by specifying the file in the <em>control</em> file as shown below, with the relevant rows being highlighted as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Example</span> <span class="n">control</span> <span class="n">file</span><span class="o">.</span>
<span class="mi">1</span>        <span class="o">*</span> <span class="n">Construct</span> <span class="n">DL_POLY</span> <span class="n">output</span> <span class="n">files</span>
<span class="mi">0</span>        <span class="o">*</span> <span class="n">NOT</span> <span class="n">IN</span> <span class="n">USE</span><span class="o">.</span>
<span class="hll"><span class="n">charmm22_prot</span> <span class="o">*</span> <span class="n">Type</span> <span class="n">of</span> <span class="n">force</span> <span class="n">field</span> <span class="n">require</span> <span class="p">(</span><span class="n">see</span> <span class="nb">list</span> <span class="n">below</span> <span class="k">for</span> <span class="n">choices</span><span class="p">)</span><span class="o">.</span>
</span><span class="hll"><span class="n">kJ</span><span class="o">/</span><span class="n">mol</span>    <span class="o">*</span> <span class="n">Energy</span> <span class="n">unit</span><span class="p">:</span> <span class="n">kcal</span><span class="o">/</span><span class="n">mol</span><span class="p">,</span> <span class="n">kJ</span><span class="o">/</span><span class="n">mol</span><span class="p">,</span> <span class="n">eV</span><span class="p">,</span> <span class="ow">or</span> <span class="n">K</span><span class="o">.</span>
</span><span class="n">normal</span>  <span class="o">*</span> <span class="n">Conversion</span> <span class="n">criteria</span> <span class="p">(</span><span class="n">strict</span><span class="p">,</span> <span class="n">normal</span><span class="p">,</span> <span class="n">loose</span><span class="p">)</span>
<span class="mi">1</span>        <span class="o">*</span> <span class="n">Bond</span> <span class="nb">type</span> <span class="p">(</span><span class="mi">0</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="mi">1</span><span class="o">=</span><span class="n">harmonic</span> <span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="n">Morse</span><span class="p">)</span>
<span class="mi">1</span>        <span class="o">*</span> <span class="n">Angle</span> <span class="nb">type</span> <span class="p">(</span><span class="mi">0</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="mi">1</span><span class="o">=</span><span class="n">harmonic</span><span class="p">,</span> <span class="mi">2</span><span class="o">=</span><span class="n">harmonic</span> <span class="n">cos</span><span class="p">)</span>
<span class="hll"><span class="o">/</span><span class="n">dl_f_4</span><span class="o">.</span><span class="mi">8</span><span class="o">/</span><span class="n">workspace</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">udff</span>  <span class="o">*</span> <span class="n">Include</span> <span class="n">user</span><span class="o">-</span><span class="n">defined</span> <span class="n">information</span><span class="o">.</span> <span class="n">Put</span> <span class="s1">&#39;none&#39;</span> <span class="ow">or</span> <span class="n">a</span> <span class="o">.</span><span class="n">udff</span> <span class="n">filename</span>
</span><span class="mi">1</span>       <span class="o">*</span> <span class="n">Verbosity</span> <span class="n">mode</span><span class="p">:</span> <span class="mi">1</span> <span class="o">=</span> <span class="n">on</span><span class="p">,</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">off</span>
<span class="n">Examples</span><span class="o">/</span><span class="n">sod1</span><span class="o">.</span><span class="n">pdb</span>   <span class="o">*</span> <span class="n">Configuration</span> <span class="n">file</span><span class="o">.</span>
<span class="n">none</span>   <span class="o">*</span> <span class="n">Output</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">PDB</span><span class="o">.</span> <span class="n">Put</span> <span class="s1">&#39;none&#39;</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">needed</span><span class="o">.</span>
<span class="mi">0</span> <span class="mi">80</span> <span class="n">molecules</span>  <span class="mf">15.0</span> <span class="o">*</span> <span class="n">Solution</span> <span class="n">Maker</span><span class="p">:</span> <span class="n">on</span><span class="o">/</span><span class="n">off</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">unit</span><span class="p">,</span> <span class="n">cutoff</span><span class="p">)</span>
<span class="o">...</span>
<span class="o">...</span>
</pre></div>
</div>
<p>In this <em>control</em> file, the <em>udff</em> file is specified. This means DL_FIELD will read this file before moving on to read the library files. DL_FIELD will only read in the information from the same FF scheme in the <em>udff</em> file.</p>
<p>In addition, the energy unit kJ/mol is specified. This means all the parameters will be automatically converted into this unit, whether they are from the <em>udff</em> or library sources.</p>
<p><a class="reference internal" href="#header-dlf-19"><span class="std std-ref">^ GO TO TOP ^</span></a></p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../RST_PAGES/Introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../Resources.html">Resources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../manual.html">DL_Software Manuals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools.html">DL_Software Tools</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="tutorials.html">DL_Software Tutorials</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="dlp_0.html">DL_POLY Tutorial</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="dlf_0.html">DL_FIELD Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="dla_0.html">DL_ANALYSER Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="dlm_0.html">DL_MESO Tutorial</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../EXERCISES/Exercises.html">DL_Software Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="../video_links.html">Video Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="../visualisation.html">Model Building and Visualization Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="../text_editors.html">Text Editors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linux_cheat_sheet.html">Linux Cheat Sheet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../SIMULATIONS/Simulations.html">Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../knowledge.html">Knowledge Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RST_PAGES/Acknowledgements.html">Acknowledgements</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="dlf_5.html"
                        title="previous chapter">DL_FIELD <em>control</em> file</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="dlf_20.html"
                        title="next chapter">The udff file: 2. Examples</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="dlf_20.html" title="The udff file: 2. Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="dlf_5.html" title="DL_FIELD control file"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">DL_Software Digital Guide (DL_SDG) 2.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../Resources.html" >Resources</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tutorials.html" >DL_Software Tutorials</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="dlf_0.html" >DL_FIELD Tutorial</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, DL_SDG.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>